@model Proyecto.Models.Receta

@{
    ViewBag.Title = "Edit";
}

<h2>Edit</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    
<div class="form-horizontal">
    <h4>Receta</h4>

    <hr />

    @Html.ValidationSummary(true, "", new { @class = "text-danger" })


        <div class="row">

            <div class="col-md-12">

                @for (int i = 0; i < ViewBag.MaxIngredientes; i++)
                {
                    <br />
                    <div class="row">

                        <div class="col-sm-4">
                            <label> Ingrediente numero @(i + 1)</label>
                            <select name=@("Ingrediente"+i) value="" class="input-group">
                                //select

                                @if (ViewBag.MateriasPrimas != null)
                                {

                                    for (int j = 0; j < ViewBag.MateriasPrimas.Length; j++)//12  con nullos de materias primas
                                    {

                                        for (int k = 0; k < ViewBag.MateriasPrimasSeleccionadas.Length; k++)
                                        {
                                            if (ViewBag.MateriasPrimas[j].MateriaPrimaId == ViewBag.MateriasPrimasSeleccionadas[k])
                                            {
                                                if (ViewBag.MateriasPrimasSeleccionadas[k] == i+1)
                                                {
                                                    <option selected value="@(ViewBag.MateriasPrimas[j].MateriaPrimaId)">@ViewBag.MateriasPrimas[j].Nombre</option>
                                                }
                                                k = ViewBag.MateriasPrimasSeleccionadas.Length;
                                            }

                                            if (ViewBag.MateriasPrimas[j].MateriaPrimaId != ViewBag.MateriasPrimasSeleccionadas[k])
                                            {
                                                <option value="@(ViewBag.MateriasPrimas[j].MateriaPrimaId)">@ViewBag.MateriasPrimas[j].Nombre</option>
                                            }
                                        }

                                       



                                    }





                                }
                            </select>

                        </div>
                        <div class="col-sm-4">
                         
                           
                        </div>
                        <div class="col-sm-4">

                        </div>
                    </div>
                }

             
            </div>
       


    </div>
  
</div>



    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" value="Guardar" class="btn btn-default" />
        </div>

    </div>

}

<div>
    @Html.ActionLink("Regresar al listado", "Index")
</div>
